<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ネットワーク統合ハブ</title>
    <link rel="stylesheet" href="../CSS/style.css" />
    <link rel="stylesheet" href="../CSS/sub.css" />
</head>
<body>
    <header class="site-header">
        <div class="container header-row">
            <h1 class="site-title">ネットワーク統合ハブ</h1>
            <nav class="site-nav">
                <a href="../index.html">ホーム</a>
                <a href="./home.html">自宅Wi-Fi</a>
                <a href="./company.html">社内ネットワーク</a>
                <a href="./training.html">トレーニング</a>
            </nav>
        </div>
    </header>

    <main class="container stack-lg">
        <section class="advanced-card">
            <h2>② 自宅 ↔ 会社リンク状況</h2>
            <p>各シミュレータが保存する AppStore のスナップショットを読み込み、両拠点の配線状況と DNS 判定の結果を一目で確認できます。</p>
            <div class="bridge-visual">
                <div class="endpoint">
                    <div>自宅ネットワーク</div>
                    <div class="status-pill" data-status-home>UNKNOWN</div>
                </div>
                <div class="bridge-line" id="bridgeLine"></div>
                <div class="endpoint">
                    <div>会社ネットワーク</div>
                    <div class="status-pill" data-status-company>UNKNOWN</div>
                </div>
            </div>
            <div class="bridge-meta">
                <div>Home: <span id="homeDetail">-</span></div>
                <div>Company: <span id="companyDetail">-</span></div>
                <div>DNS: <span id="dnsDetail">未実行</span></div>
            </div>
            <div class="row gap-sm" style="margin-top: 12px;">
                <button class="btn" id="refreshStatus">最新状況を更新</button>
                <button class="btn ghost" id="autoRefreshToggle">自動更新: OFF</button>
            </div>
        </section>

        <div class="advanced-grid">
            <section class="advanced-card">
                <h2>③ HTML アップロード (FTP もどき)</h2>
                <p>ZIP やバイナリを使わずに、HTML ファイルを仮想 FTP サーバーへアップロードした体で保存します。ブラウザ上に保存されるため、GitHub Pages へ配置する前のドラフト確認に利用できます。</p>
                <form id="ftpForm" class="ftp-form">
                    <div class="row">
                        <input id="ftpHost" type="text" placeholder="ftp.example.com" />
                        <input id="ftpUser" type="text" placeholder="username" />
                        <input id="ftpPass" type="password" placeholder="password (任意)" />
                    </div>
                    <label>
                        <span>HTML / テキストファイル</span>
                        <input id="ftpFile" type="file" accept=".html,.htm,.txt" required />
                    </label>
                    <button class="btn primary" type="submit">アップロード</button>
                </form>
                <ul id="ftpList" class="ftp-list"></ul>
            </section>

            <section class="advanced-card virtual-browser">
                <h2>④ 仮想ブラウザ</h2>
                <p>自宅 PC から社内ネットワーク、あるいはアップロード済み HTML をブラウザ風に表示します。GitHub Pages で公開した際も同じ URL を設定すればそのまま動作します。</p>
                <div class="toolbar">
                    <button class="btn ghost" data-view="home">自宅シミュレータ</button>
                    <button class="btn ghost" data-view="company">社内シミュレータ</button>
                    <button class="btn ghost" data-view="index">トップページ</button>
                </div>
                <label>
                    <span>アップロード済み HTML</span>
                    <select id="uploadSelect">
                        <option value="">--- ファイルを選択 ---</option>
                    </select>
                </label>
                <button class="btn" id="openUploadInBrowser">アップロードを表示</button>
                <iframe id="virtualFrame" title="仮想ブラウザ"></iframe>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <small>© 2025 ネットワーク学習プロジェクト. All Rights Reserved.</small>
        </div>
    </footer>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="../JS/store.js"></script>
    <script>
        AppStore.configure({ key: 'app:network:saves:default', version: 1 });
    </script>
    <script src="../JS/main.js" defer></script>
</body>
</html>
